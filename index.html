<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="author" content="Vijay Solanki">

    <title>R for Arts</title>

    <link rel="stylesheet" href="css/reveal.css">
    <link rel="stylesheet" href="css/theme/white.css">

    <!-- Theme used for syntax highlighting of code -->
    <!--     <link rel="stylesheet" href="lib/css/atelier-heath-dark.css"> -->
    <link rel="stylesheet" href="lib/css/zenburn.css">

    <!--Add support for earlier versions of Internet Explorer -->
    <!--[if lt IE 9]>
<script src="lib/js/html5shiv.js"></script>
<![endif]-->

    <!-- Printing and PDF exports -->
    <script>
      var link = document.createElement( 'link' );
      link.rel = 'stylesheet';
      link.type = 'text/css';
      link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
      document.getElementsByTagName( 'head' )[0].appendChild( link );
    </script>

  </head>
  <body>
    <div class="reveal">
      <div class="slides">


        <!--    NEW TOP LEVEL SLIDE      -->
        <section>
          <h1>
            <img src='resources/R-logo.png' alt='R logo' style='background:none; border:none; box-shadow:none;'> for Arts
          </h1>
          <h4>
            Session 2
          </h4>
          <h4>
            March 17th 2017
          </h4>
          <aside class='notes'>

          </aside>
        </section>




        <!--    NEW TOP LEVEL SLIDE      -->
        <section align='left'>

          <section>
            <h2 align='center'>
              Recap Session 1
            </h2>
            <aside class='notes'>

            </aside>
          </section>

          <section>
            <h3>
              Core concepts
            </h3>
            <div style='font-size:60%'>
              <ol>
                <li class='fragment' style='font-size:100%'><b>Understand your environment</b>
                  <ol>
                    <li type='a'>The 3 windows</li>
                    <li type='a'>Working directories</li>
                  </ol>
                </li>
                <br/>
                <li class='fragment' style='font-size:100%'><b>Objects and data classes</b>
                  <ol>
                    <li type='a'>Object assignment</li>
                    <li type='a'>Numeric, Character, Logical, Factor</li>
                  </ol>
                </li>
                <br/>
                <li class='fragment' style='font-size:100%'><b>Data structures</b>
                  <ol>
                    <li type='a'>Vectors</li>
                    <li type='a'>Matrices</li>
                    <li type='a'>Lists</li>
                    <li type='a'>Data Frames</li>
                  </ol>
                </li>
                <br/>
                <li class='fragment' style='font-size:100%'><b>Functions</b>
                  <ol>
                    <li type='a'>Handy functions</li>
                    <li type='a'>Understand by doing</li>
                  </ol>
                </li>
                <br/>
                <li class='fragment' style='font-size:100%'><b>Help!</b>
                  <ol>
                    <li type='a'>Ask R</li>
                    <li type='a'>Listen to R</li>
                    <li type='a'>If all else fails, ask Google</li>
                  </ol>
                </li>
              </ol>
            </div>
            <aside class='notes'>

            </aside>
          </section>

          <section>
            <div style='font-size:60%'>
              <h3>
                Coding Practice (<span style='color:red'>CP</span>)
              </h3>
              <h4>
                <span style='color:red'>CP1:</span> # everything, because #YOLO
              </h4>
              <!--             <p class='fragment'>
Possibly, one of the more important pieces of advice.
</p> -->
              <p class='fragment'>
                In R, the <span style='font-size:150%'>#</span> symbol will 'comment out' everything that follows it on that line.
              </p>
              <p class='fragment'>
                This allows you to make comments about your work and is SUPER IMPORTANT!
              </p>
              <h4>
                <span style='color:red'>CP2:</span> Leave yourself space!
              </h4>
              <p class='fragment'>
                Code is hard to read at the best of times.
              </p>
              <p class='fragment'>
                Make life easy for yourself and put spaces between code elements.
              </p>
              <!--             <div class='fragment'>
Bad:
<pre><code class='r'>1+2+3+4+5+6+7+8+9+10</code></pre>
</div>
<div class='fragment'>
Good:
<pre><code class='r'>1 + 2 + 3 + 4 + 5 + 6 + 7 + 8 + 9 + 10</code></pre>
</div> -->
              <h4>
                <span style='color:red'>CP3:</span> Sensible names
              </h4>
              <!--             <p class='fragment'>
Providing your R <span style='display:inline;color:blue;margin-top:0'>objects</span> with sensible names will save you a lot of pain in the future.
</p> -->
              <div class='fragment'>
                <p>
                  <span style='color:blue'>Object</span> names require the following:
                <ul>
                  <li>They MUST begin with a letter</li>
                  <li>They MUST NOT contain spaces</li>
                  <li>They ARE case sensitive</li>
                  <li>They can ONLY contain letters, numbers, <span style='color:red'>_</span> and <span style='color:red'>.</span> </li>
                </ul>
                </p>
            </div>
            <div class='fragment'>
              <p>
                Be consistent in your naming convention, some example conventions are:
              <ul>
                <li>this_is_snake_case</li>
                <li>ThisIsCamelCase</li>
                <li>this.uses.full.stops</li>
              </ul>
              </p>
            </div>
          </div>
        <aside class='notes'>

        </aside>
        </section>

      <section>
        <h2 align='center'>
          Questions?
        </h2>
        <aside class='notes'>

        </aside>
      </section>

      </section>

    <!--    NEW TOP LEVEL SLIDE      -->
    <section align='left'>

      <section>
        <h2 align='center'>
          Session 2
        </h2>
        <aside class='notes'>
        </aside>
      </section>

      <section>
        <h3>
          What will be covered
        </h3>
        <ol>
          <li class='fragment'>Installing and using packages</li>
          <li class='fragment'>Importing, navigating and tidying data</li>
          <!--           <li class='fragment'>Handling and accessing data</li> -->
          <li class='fragment'>Basic descriptive stats</li>
          <!--           <li class='fragment'></li> -->
        </ol>
      </section>

      <section>
        <h3>
          What will NOT be covered
        </h3>
        <ol>
          <li class='fragment'>Plotting data (next week)</li>
          <li class='fragment'>Producing data reports (next week)</li>
          <li class='fragment'>Inferential stats (e.g. regressions, mixed effects models etc.)</li>
        </ol>
      </section>

      <section>
        <h3>
          R for Data Science
        </h3>
        <iframe src='http://r4ds.had.co.nz/index.html' style='width:100%' class='stretch'>
        </iframe>
        <aside class='notes'>

        </aside>
      </section>

      <section>
        <h3>
          R for Data Science
        </h3>
        <div align='center'>
          <img style='border:0;box-shadow:none;width:120%' src='resources/r4ds-flow.png' alt='R for Data Science work flow diagram'/>
        </div>

        <p align='right'>
          <small>Image drawn from: <a href='http://r4ds.had.co.nz/introduction.html'>http://r4ds.had.co.nz/introduction.html</a></small>
        </p>

        <aside class='notes'>

        </aside>
      </section>

      <!--       <section>
<h2 align='center'>
Session 2
</h2>
<aside class='notes'>
</aside>
</section> -->

    </section>

    <!--    NEW TOP LEVEL SLIDE      -->
    <section align='left'>

      <section>
        <h2 align='center'>
          Packages
        </h2>
        <aside class='notes'>

        </aside>
      </section>

      <section>
        <h3>
          Packages
        </h3>
        <p>
          There is a package for almost everything.
        </p>
        <p class='fragment' data-fragment-index='1'>
          There are currently <span style='color:red'>10,265</span> available packages (as of 10:25AM on 15th March 2017).
        </p>
        <p class='fragment' data-fragment-index='2'>
          A full list of all available packages can be found at:
        <p  class='fragment' style='font-size:70%'  data-fragment-index='2'>
          <a href='https://cran.r-project.org/web/packages/available_packages_by_date.html'>https://cran.r-project.org/web/packages/available_packages_by_date.html</a>
        </p>
        </p>
      <aside class='notes'>

      </aside>
    </section>

    <section>
      <h3>
        Packages
      </h3>

      To install a package, we use the <pre style='display:inline'><code style='display:inline' class='r'>install.packages()</code></pre> command.

      <p class='fragment' data-fragment-index='1'>
        For instance, if we want to install the <a href='https://cran.r-project.org/web/packages/psych/index.html'>psych</a> package, we would use the following code: <pre class='fragment' data-fragment-index='1'><code class='r'>install.packages('psych')</code></pre>
      </p>
    <p class='fragment'>
      This process only needs to be completed once, just like installing a program.
    </p>
    <p class='fragment'>
      Note that the package name is encased in quotes.
      This is because the CRAN server requires character information in order to match the package request against available packages.
    </p>
    <aside class='notes'>

    </aside>
    </section>

  <section>
    <h3>
      Packages: Admin Privileges
    </h3>
    <p class='fragment'>
      Installing packages can raise issues with administrator privileges.
    </p>
    <p class='fragment'>
      The <a href='https://github.com/vj-sol/R-for-Arts/raw/master/resources/installing-R.pdf'>installation instructions</a> have suggestions to circumvent this but if you are having issues please ask Vijay or Robert for help.
    </p>

    <aside class='notes'>

    </aside>
  </section>

  <section>
    <h3>
      Using Packages
    </h3>

    Before we can use a package, we have to call it into our R workspace.
    This is accomplished with the <pre style='display:inline'><code style='display:inline' class='r'>library()</code></pre> function, e.g.:

    <pre><code class='r'>library(psych)</code></pre>

    Notice that here, there are no quotations.
    This is because the package is now an object in you local R build.
    <aside class='notes'>

    </aside>
  </section>

  <section>
    <h3>
      Using Packages
    </h3>

    Every package comes with its own selection of functions that perform specific tasks.
    For example, the psych package has the <pre style='display:inline'><code style='display:inline' class='r'>headTail()</code></pre> function which helps with viewing datasets.

    <pre><code class='r'>headTail(mtcars) # mtcars is a built-in dataset. Use data() to list all available datasets.
#                mpg cyl disp  hp drat   wt  qsec  vs  am gear carb
#Mazda RX4        21   6  160 110  3.9 2.62 16.46   0   1    4    4
#Mazda RX4 Wag    21   6  160 110  3.9 2.88 17.02   0   1    4    4
#Datsun 710     22.8   4  108  93 3.85 2.32 18.61   1   1    4    1
#Hornet 4 Drive 21.4   6  258 110 3.08 3.21 19.44   1   0    3    1
#...             ... ...  ... ...  ...  ...   ... ... ...  ...  ...
#Ford Pantera L 15.8   8  351 264 4.22 3.17  14.5   0   1    5    4
#Ferrari Dino   19.7   6  145 175 3.62 2.77  15.5   0   1    5    6
#Maserati Bora    15   8  301 335 3.54 3.57  14.6   0   1    5    8
#Volvo 142E     21.4   4  121 109 4.11 2.78  18.6   1   1    4    2

</code></pre>
    <aside class='notes'>

    </aside>
  </section>

  <section>
    <h3>
      Using Packages: Dealing with masked functions
    </h3>
    <p>
      Be aware that packages sometimes use the same names for their functions and can 'mask' each other, e.g.:
    </p>
    <pre><code>library(dplyr)
#Attaching package: ‘dplyr’
#
#The following objects are masked from ‘package:stats’:
#
#    filter, lag
#
#The following objects are masked from ‘package:base’:
#
#    intersect, setdiff, setequal, union
#
</code></pre>
    <aside class='notes'>

    </aside>
  </section>

  <section>
    <h3>
      Using Packages: Dealing with masked functions
    </h3>
    <p>
      If you have masked a function that you wish to call, you can tell R which function you wish to use.
    </p>

    To do this, we use the <pre style='display:inline'><code style='display:inline' class='r'>::</code></pre> notation, e.g.:

    <pre><code class='r'>library(dplyr)

#Attaching package: ‘dplyr’
#
#The following objects are masked from ‘package:stats’:
#
#    filter, lag
#
#The following objects are masked from ‘package:base’:
#
#    intersect, setdiff, setequal, union
#

filter(mtcars, cyl == 8) # Using the dplyr filter function

#    mpg cyl  disp  hp drat    wt  qsec vs am gear carb
#1  18.7   8 360.0 175 3.15 3.440 17.02  0  0    3    2
#2  14.3   8 360.0 245 3.21 3.570 15.84  0  0    3    4
#3  16.4   8 275.8 180 3.07 4.070 17.40  0  0    3    3
#4  17.3   8 275.8 180 3.07 3.730 17.60  0  0    3    3
#5  15.2   8 275.8 180 3.07 3.780 18.00  0  0    3    3
#6  10.4   8 472.0 205 2.93 5.250 17.98  0  0    3    4
#7  10.4   8 460.0 215 3.00 5.424 17.82  0  0    3    4
#8  14.7   8 440.0 230 3.23 5.345 17.42  0  0    3    4
#9  15.5   8 318.0 150 2.76 3.520 16.87  0  0    3    2
#10 15.2   8 304.0 150 3.15 3.435 17.30  0  0    3    2
#11 13.3   8 350.0 245 3.73 3.840 15.41  0  0    3    4
#12 19.2   8 400.0 175 3.08 3.845 17.05  0  0    3    2
#13 15.8   8 351.0 264 4.22 3.170 14.50  0  1    5    4
#14 15.0   8 301.0 335 3.54 3.570 14.60  0  1    5    8

stats::filter( 1:100, rep( 1 , 3 )) # Using the stats filter function

#Time Series:
#Start = 1
#End = 100
#Frequency = 1
#  [1]  NA   6   9  12  15  18  21  24  27  30  33  36  39  42  45  48  51  54
# [19]  57  60  63  66  69  72  75  78  81  84  87  90  93  96  99 102 105 108
# [37] 111 114 117 120 123 126 129 132 135 138 141 144 147 150 153 156 159 162
# [55] 165 168 171 174 177 180 183 186 189 192 195 198 201 204 207 210 213 216
# [73] 219 222 225 228 231 234 237 240 243 246 249 252 255 258 261 264 267 270
# [91] 273 276 279 282 285 288 291 294 297  NA

</code></pre>
    <aside class='notes'>

    </aside>
  </section>

  <section>
    <h3>
      Packages
    </h3>
    <p>
      A full script for installing, loading and using a package might look something like this:
    </p>
    <pre><code class='r'>install.packages( 'psych' )
library( psych )
headTail( mtcars )
#                mpg cyl disp  hp drat   wt  qsec  vs  am gear carb
#Mazda RX4        21   6  160 110  3.9 2.62 16.46   0   1    4    4
#Mazda RX4 Wag    21   6  160 110  3.9 2.88 17.02   0   1    4    4
#Datsun 710     22.8   4  108  93 3.85 2.32 18.61   1   1    4    1
#Hornet 4 Drive 21.4   6  258 110 3.08 3.21 19.44   1   0    3    1
#...             ... ...  ... ...  ...  ...   ... ... ...  ...  ...
#Ford Pantera L 15.8   8  351 264 4.22 3.17  14.5   0   1    5    4
#Ferrari Dino   19.7   6  145 175 3.62 2.77  15.5   0   1    5    6
#Maserati Bora    15   8  301 335 3.54 3.57  14.6   0   1    5    8
#Volvo 142E     21.4   4  121 109 4.11 2.78  18.6   1   1    4    2
  </code></pre>
    <aside class='notes'>

    </aside>
  </section>

  <section>
    <h3>
      Some handy packages:
    </h3>
    <div style='text-size:70%'>
      <table align='left' style='font-size:70%'>
        <thead>
          <tr>
            <th></th>
            <th>What is it?</th>
            <th>Install</th>
            <th>Load</th>
          </tr>
        </thead>
        <tr>
          <td><a href = 'https://cran.r-project.org/web/packages/psych/psych.pdf'>psych</a></td>
          <td>A package for personality, psychometric, and psychological research
          </td>
          <td><pre><code class='r'>install.packages('psych')</code></pre></td>
          <td><pre><code class='r'>library(psych)</code></pre></td>
        </tr>
        <!--                     <tr>
<td>
reshape2
</td>
<td>Makes it easy to transform data between wide and long formats.</td>
<td><pre><code class='r'>install.packages('reshape2')</code></pre></td>
<td><pre><code class='r'>library(reshape2)</code></pre></td>
</tr> -->
        <tr>
          <td>
            <a href = 'https://cran.r-project.org/web/packages/dplyr/dplyr.pdf'>dplyr</a>
          </td>
          <td>A fast, consistent tool for working with data frame like objects.</td>
          <td><pre><code class='r'>install.packages('dplyr')</code></pre></td>
          <td><pre><code class='r'>library(dplyr)</code></pre></td>
        </tr>
        <tr>
          <td>
            <a href = 'https://cran.r-project.org/web/packages/tidyr/tidyr.pdf'>tidyr</a>
          </td>
          <td>Tool designed specifically for data tidying</td>
          <td><pre><code class='r'>install.packages('tidyr')</code></pre></td>
          <td><pre><code class='r'>library(tidyr)</code></pre></td>
        </tr>
        <tr>
          <td>
            <a href = 'https://cran.r-project.org/web/packages/Hmisc/Hmisc.pdf'>Hmisc</a>
          </td>
          <td>Contains many functions useful for data analysis</td>
          <td><pre><code class='r'>install.packages('Hmisc')</code></pre></td>
          <td>
            <pre><code class='r'>library(Hmisc)</code></pre>
          </td>
        </tr>
      </table>
    </div>
    <aside class='notes'>

    </aside>
  </section>

  </section>




<!--    NEW TOP LEVEL SLIDE      -->
<section align='left'>
  <section align='center'>
    <h2>
      Importing Data
    </h2>
  </section>

  <section>
    <h3>
      Importing data
    </h3>
    <p>
      The first step of any data analysis is to load in the data.
    </p>
    <p>
      R is very versatile and it is possible for it to handle most data types.
      However, the easiest (and preferred) data format to import into R is a text file.
    </p>
    <p>
      In this course, we will be working with comma separated value (.csv) files.
    </p>
    <p>
      If your data is in another format (e.g. .xlsx, .xls, .sav, etc.) it is often best to convert to .csv from within the associated program that created the file.
    </p>
    <p>
      If conversion is not possible, some alternative import options are offered <a href='http://www.statmethods.net/input/importingdata.html'>here</a>.
    </p>
    <aside class='notes'>

    </aside>
  </section>

  <section>
    <h3>
      Importing data: .csv structure
    </h3>
    <p style='font-size:70%'>
      A .csv file is simply a text file with a specific structure.
    </p>
    <p style='font-size:70%'>
      Every row in a .csv file represents a row of data with commas separating the columns on each row.
    </p>
    <p style='font-size:70%'>
      We have a mock .csv file about cats (available <a href='http://raw.githubusercontent.com/vj-sol/R-for-Arts-2/master/resources/cats.csv'>here</a>).
      It looks like this:
    </p>
    <pre><code>#cat,age,weight,colour,loose.in.cat.room
#Pusheen,4,3.00,chocolate,no
#Millie,7,3.75,black,no
#Pumpkin,13,4.25,grey,no
#Prof. Jiggly,9,3.25,tortoiseshell,yes</code></pre>
    <p style='font-size:70%'>
      If this was read into R, we would have a data file that looks like this:
    </p>
    <pre><code class='r'>#           cat age      weight        colour loose.in.cat.room.
#1      Pusheen   4        3.00     chocolate                 no
#2        Millie   7        3.75         black                 no
#3      Pumpkin  13        4.25          grey                 no
#4 Prof. Jiggly   9        3.25 tortoiseshell                yes
</code></pre>
    <aside class='notes'>

    </aside>
  </section>

  <section>
    <h3>
      Importing data: .csv structure
    </h3>
    <p>
      Although csv stands for comma separated values, the actual character that separates the columns can vary.
      For instance, tabs are also commonly used, e.g.:
    </p>
    <pre><code>#cat   age   weight   colour   loose in cat room?
#Pusheen   4   3.00   chocolate   no
#Millie   7   3.75   black   no
#Pumpkin   13   4.25   grey   no
#Prof. Jiggly   9   3.25   tortoiseshell   yes</code></pre>
    <p>
      This data would be represented in R in the same way as a comma separated file as long as we tell R what the separator is.
    </p>
  </section>


  <section>
    <h3>
      Importing data
    </h3>
    The command that we use to import data into R is <pre style='display:inline'><code style='display:inline'>read.table()</code></pre>, e.g.:
    <pre><code>read.table( 'cats.csv' , sep = ',')</code></pre>
    <p>
      Note that the name of the file and the separator must be encased in quotes.
    </p>
    <p>
      If the first row of our dataset contains the column headings, we need to let R know.
    </p>
    <pre><code>read.table( 'cats.csv' , sep = ',' , header = TRUE)</code></pre>
    <aside class='notes'>

    </aside>
  </section>

  <section>
    <h3>
      Importing data
    </h3>
    <p>
      As with any data type in R, files that are read into R need to be assigned to an object.
    </p>
    <pre><code>cats_demo <- read.table( 'cats.csv' , sep = ',' , header = TRUE)</code></pre>
    <p>
    If the data being imported is not assigned to an object, the whole dataset will be printed to the command window.
    This is really annoying!
    </p>
      <aside class='notes'>

      </aside>
    </section>

    <section>
      <h3>
        Importing data: special case comma imports
      </h3>

      The .csv format is so common in data analysis that R has a dedicated function for its import
      <pre style='display:inline'><code class='r' style='display:inline'>read.csv()</code></pre>.

      <p>
        This function can be used without specifying the separator, provided that the data is comma separated.
      </p>
      <pre><code class='r'>cats_demo <- read.csv( 'cats.csv' , header = TRUE)</code></pre>
      <aside class='notes'>

      </aside>
    </section>

      <aside class='notes'>

      </aside>
    </section>




    <!--    NEW TOP LEVEL SLIDE      -->
    <section align='left'>
      <section align='center'>
        <h2>
          Navigating Data
        </h2>
      </section>

      <section>
        <h3>
          Navigating Data
        </h3>
        After importing data using <pre style='display:inline'><code class='r' style='display:inline'>read.table()</code></pre> or <pre style='display:inline'><code class='r' style='display:inline'>read.csv()</code></pre> the data are stored as a <pre style='display:inline'><code class='r' style='display:inline'>data.frame</code></pre>
        <pre><code class='r'>demo_cats <- read.csv( 'cats.csv' , header = TRUE )
class(demo_cats)
#[1] "data.frame"</code></pre>
Recall from session 1 that a <pre style='display:inline'><code class='r' style='display:inline'>data.frame</code></pre> has 2 dimensions.
      <aside class='notes'>
      </aside>
    </section>

        <section>
          <h2>
            Navigating Data: 1D
          </h2>
          <p>
            R uses square brackets to select elements of data objects.
          </p>
          <p>
            For example, if we want to access the third element of a vector we would write the following:
          </p>
          <pre><code class='r'>my_vector <- c( 2 , 4 , 6 , 8 , 10)
my_vector[3]
#[1] 6</code></pre>
<p>
However, vectors only have 1 dimension and the data the we have imported has 2 dimensions.
</p>
      <aside class='notes'>
      </aside>
    </section>

          <section>
            <h2>
              Navigating Data: 2D
            </h2>
            <p>
              Fortunately, the code for navigating 2-dimensional data is the same as that for 1-dimensional data.
            </p>
            For 2D data we simply add a comma to our command, e.g.: <pre style='display:inline'><code style='display:inline' class='r'>[1,3]</code></pre>
            <p>
              R uses the first number as an index for the row and the second number as an index for the column.
              So, in this example we would be asking for the data element that is in row 1, column 3 of the dataset.
            </p>

            <aside class='notes'>
            </aside>
          </section>

          <section>
            <h3>
              Navigating Data: 2D
            </h3>
            <p>
              If we now return to our cat dataset, we can try selecting data in a 2D object.
              Our data look like this:
            </p>
            <pre><code class='r'>#           cat age      weight        colour loose.in.cat.room.
#1      Pusheen   4        3.00     chocolate                 no
#2       Millie   7        3.75         black                 no
#3      Pumpkin  13        4.25          grey                 no
#4 Prof. Jiggly   9        3.25 tortoiseshell                yes
</code></pre>
            <p>
              If we wanted to know if Pumpkin is loose in the cat room, we would need the information contained in row 3, column 5.
              This is coded as so:
            </p>
            <pre><code class='r'>demo_cats[3,5]
#[1] no
#Levels: no yes</code></pre>
            <aside class='notes'>
            </aside>
          </section>

          <section>
            <h3>
              Navigating Data: Selecting entire rows/columns
            </h3>
            <p>
              The same code used to access elements of a <pre style='display:inline'><code class='r' style='display:inline'>data.frame</code></pre> can also be used to select whole rows or columns.
            This is acheived by omitting the row or column number.
            </p>
          <p>
            For example, if we want to know the weights of all our cats we would need column 3 and we would write the following:
          <pre><code class='r'>cats_demo[,3]
#[1] 3.00 3.75 4.25 3.25
</code></pre>
          </p>

      </section>

      <section>
        <h3>
          Navigating Data: Selecting entire rows/columns
        </h3>
        <p>
          If we wanted to get all the information about Prof. Jiggly we would need row 4 and we would write the following:
        <pre><code class='r'>cats_demo[4,]
#           cat age      weight        colour loose.in.cat.room.
#4 Prof. Jiggly   9        3.25 tortoiseshell                yes

</code></pre>
        </p>

    </section>

    <section>
      <h3>
        Navigating Data: $$ bill y'all
      </h3>
      <pre style='display:inline'><code class='r' style='display:inline'>data.frame</code></pre>s have a feature which allows us to access a column by using its name.
      To do this, we use the <pre style='display:inline'><code class='r' style='display:inline'>$</code></pre> operator.

      For instance, to get the weight of our cats we could use the method offered 2 slides ago (i.e.<pre style='display:inline'><code class='r' style='display:inline'>cats_demo[,3]</code></pre>) or we could use the following:

      <pre><code class='r'>cats_demo$weight
#[1] 3.00 3.75 4.25 3.25
</code></pre>

      Both methods return the same data but by using the <pre style='display:inline'><code class='r' style='display:inline'>$</code></pre> operator we can be more targeted in our selections.
    </section>

    <aside class='notes'>

    </aside>
  </section>




  <!--    NEW TOP LEVEL SLIDE      -->
  <section align='left'>
    <section align='center'>
      <h2>
        Tidying Data
      </h2>
    </section>
    <section>
      <h3>
        Tidy Data
      </h3>
      <p>
        There exists such a thing as tidy data and it takes the following form:
      </p>
      <div align='center'>
        <img style='border:0;box-shadow:none;width:120%' src='resources/tidy-data.png' alt='R for Data Science tidy data diagram'/>
      </div>

      <p align='right'>
        <small>Image drawn from: <a href='http://r4ds.had.co.nz/tidy-data.html'>http://r4ds.had.co.nz/tidy-data.html</a></small>
      </p>
      <p>
        This will not be the optimal structure for all data sets but it is certainly a good place to start.
      </p>
      <aside class='notes'>

      </aside>
    </section>

    <section>
      <h3>
        Tidy Data
      </h3>
      <p>
        Datasets come in a dizzying array of different formats and not all of them will be tidy.
      </p>
      <p>
        Let's return to our cats to exemplify this.
        Here we have food consumption data for our cats over a 3-month period, with all values in grams.
        You can find this data <a href='https://raw.githubusercontent.com/vj-sol/R-for-Arts-2/master/resources/cat-food.csv'>here</a>
      </p>
      <pre><code>cat_food
#          Name food_type  Jan  Feb  Mar
#1      Pusheen       dry 2500 3000 2500
#2      Pusheen       wet 3000 3000 2000
#3       Millie       dry 1000 3000 2000
#4       Millie       wet 4000 2000 3000
#5      Pumpkin       dry 4000 5500 3500
#6      Pumpkin       wet 2000 2500 3000
#7 Prof. Jiggly       dry 5000 4500 4000
#8 Prof. Jiggly       wet    0 1000 1500
</code></pre>
      <!--       <table>
<tr>
<td>Variables</td>
<td>Observations</td>
<td>Values</td>
</tr>
<tr>
<td>Columns</td>
<td>Rows</td>
<td>Cells</td>
</tr>
</table> -->
      <p>
        Does this data adhere to the tidy data format?
      </p>
      <aside class='notes'>

      </aside>
    </section>

    <section>
      <h3>
        Tidy Data
      </h3>
      <p>
        First, let's group the months.
      </p>

      Hadley Wickham has a particularly handy package called <pre style='display:inline'><code style='display:inline' class='r'>tidyr</code></pre> that is useful here.
      To do this, we will be using the <pre style='display:inline'><code style='display:inline' class='r'>gather()</code></pre> function from this package.

      <pre><code class='r'>library(tidyr)
cat_food <- read.csv( 'https://raw.githubusercontent.com/vj-sol/R-for-Arts-2/master/resources/cat-food.csv' , header = T )
tidy_cats <- gather( data = cat_food, Jan , Feb , Mar , key = Month, value = food_consumed )
tidy_cats
#           Name food_type Month food_consumed
#1       Pusheen       dry   Jan          2500
#2       Pusheen       wet   Jan          3000
#3        Millie       dry   Jan          1000
#4        Millie       wet   Jan          4000
#5       Pumpkin       dry   Jan          4000
#6       Pumpkin       wet   Jan          2000
#7  Prof. Jiggly       dry   Jan          5000
#8  Prof. Jiggly       wet   Jan             0
#9       Pusheen       dry   Feb          3000
#10      Pusheen       wet   Feb          3000
#11       Millie       dry   Feb          3000
#12       Millie       wet   Feb          2000
#13      Pumpkin       dry   Feb          5500
#14      Pumpkin       wet   Feb          2500
#15 Prof. Jiggly       dry   Feb          4000
#16 Prof. Jiggly       wet   Feb          1000
#17      Pusheen       dry   Mar          2500
#18      Pusheen       wet   Mar          2000
#19       Millie       dry   Mar          2000
#20       Millie       wet   Mar          3000
#21      Pumpkin       dry   Mar          3500
#22      Pumpkin       wet   Mar          3000
#23 Prof. Jiggly       dry   Mar          4000
#24 Prof. Jiggly       wet   Mar          1500

</code></pre>
    </section>

    <aside class='notes'>

    </aside>

    <section>
      <h3>
        Tidy Data
      </h3>
      <!--       <p> -->
      Now, let's separate the food types.
      To do this, we will be using the <pre style='display:inline'><code style='display:inline' class='r'>spread()</code></pre> function from this package.
      <!--       </p> -->
      <p>
        Data is carried over from the previous slide.
      </p>

      <pre><code class='r'>library(tidyr)
tidy_cats <- spread( data = tidy_cats, key = food_type , value = food_consumed )
#           Name Month  dry  wet
#1        Millie   Feb 3000 2000
#2        Millie   Jan 1000 4000
#3        Millie   Mar 2000 3000
#4  Prof. Jiggly   Feb 4000 1000
#5  Prof. Jiggly   Jan 5000    0
#6  Prof. Jiggly   Mar 4000 1500
#7       Pumpkin   Feb 5500 2500
#8       Pumpkin   Jan 4000 2000
#9       Pumpkin   Mar 3500 3000
#10      Pusheen   Feb 3000 3000
#11      Pusheen   Jan 2500 3000
#12      Pusheen   Mar 2500 2000

</code></pre>
    </section>

      <section>
        <h3>
          Tidy data
        </h3>
        The <pre style='display:inline'><code style='display:inline' class='r'>tidyr</code></pre> package has a number of useful functions for tidying data.
        Please do explore them for yourselves.
        <br/>
        <table>
          <thead>
            <tr>
              <th>
                Function
              </th>
              <th>
                Purpose
              </th>
            </tr>
          </thead>
          <tr>
            <td>
              <pre style='display:inline'><code style='display:inline' class='r'>separate()</code></pre>
            </td>
            <td>
              Turns a single character column into multiple columns.
            </td>
          </tr>
          <tr>
            <td>
              <pre style='display:inline'><code style='display:inline' class='r'>unite()</code></pre>
            </td>
            <td>
              Turns multiple columns into one.
            </td>
          </tr>
          <tr>
            <td>
              <pre style='display:inline'><code style='display:inline' class='r'>complete()</code></pre>
            </td>
            <td>
              Turns implicit missing values into explicit missing values.
            </td>
          </tr>
        </table>
      </section>

    </section>


    <!--     <aside class='notes'>

</aside>
</section> -->




    <!--    NEW TOP LEVEL SLIDE      -->
    <section align='left'>
      <section>
        <h2 align='center'>
          Checking and selecting Data
        </h2>
      </section>

      <section>
        <h3>
          Checking data: complete cases
        </h3>
        <p>
          One should ALWAYS look at their data before analysing it.
        </p>
        <!--       <p>
The addage of Garbage In, Garbage Out applies here.
</p> -->
        <p>
          However, this can prove difficult with large datasets.
        </p>
        Data can be checked for missing values using the <pre style='display:inline'><code style='display:inline' class='r'>complete.cases()</code></pre> function.
        <pre><code class='r'>complete.cases(tidy_cats)
#[1] TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE
</code></pre>
        This checks the rows of a dataset for an observation in each column and is very easy to use with tidy data.
        <aside class='notes'>
        </aside>
      </section>

      <section>
        <h3>
          Checking data: Complete cases
        </h3>
        <!--       <p> -->
        If there was a missing observation in the data, the function would have returned a <pre style='display:inline'><code style='display:inline' class'r'>FALSE</code></pre> value for the incomplete row, e.g.:
        <pre><code class='r'>tidy_cats$Month[1] <- NA
tidy_cats
#           Name Month  dry  wet
#1        Millie  &lt;NA&gt; 3000 2000
#2        Millie   Jan 1000 4000
#3        Millie   Mar 2000 3000
#4  Prof. Jiggly   Feb 4000 1000
#5  Prof. Jiggly   Jan 5000    0
#6  Prof. Jiggly   Mar 4000 1500
#7       Pumpkin   Feb 5500 2500
#8       Pumpkin   Jan 4000 2000
#9       Pumpkin   Mar 3500 3000
#10      Pusheen   Feb 3000 3000
#11      Pusheen   Jan 2500 3000
#12      Pusheen   Mar 2500 2000

complete.cases(tidy_cats)
#[1] FALSE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE

# Now let's put that data back
          tidy_cats$Month[1] <- 'Feb'
          </code></pre>
          <aside class='notes'>
          </aside>
          </section>

          <section>
          <h3>
          Checking Data: Missing Values
          </h3>
          <p>
          R will default to telling you that something is unknown rather than assuming anything.
          </p>
          <pre><code class='r'>a <- 2
          b <- NA
          a + b
          #[1] NA</code></pre>
          <p>
          Note how the output is not an integer, R is conservative and lets you know that you have missing data.
          </p>
          <aside class='notes'>
          </aside>
          </section>

          <section>
          <h3>
          Checking Data: Missing Values
          </h3>
          <p>
          You can find which data is missing by using the <pre style='display:inline'><code style='display:inline' class='r'>is.na()</code></pre> function.
          This will return a logical vector where a TRUE statement indicates an NA.
          </p>
          <!--     <p> -->
          To find the position of the NA value(s), combine this with the <pre style='display:inline'><code style='display:inline' class='r'>which()</code></pre> function.
          <!--     </p> -->
          <pre><code class='r'>test <- 1:1000
          test[56] <- NA
          test
          #[1] NA
          which(is.na(test))
          #[1] 56
          </code></pre>
          <!--       <p>
          Note how the output is not an integer, R is conservative and let's you know that you have missing data.
</p> -->
        <aside class='notes'>
        </aside>
      </section>

        <section>
          <h3>
            Selecting data
          </h3>
          <div style='font-size:70%'>
            <p>
              There will often be times where you only want a specific subset of the data that you have.
            </p>
            <p>
              For instance, in our cat data, we may only want the data that pertains to the month of March.
            </p>
            <p>
              We can do this by employing some logical operators:
            </p>
          </div>
          <div style='font-size:90%'>
            <table>
              <thead>
                <tr>
                  <th>Operator</th>
                  <th>Description</th>
                </tr>
              </thead>
              <tr><td>&lt;</td><td>Less then</td></tr>
              <tr><td>&gt;</td><td>Greater than</td></tr>
              <tr><td>&lt;=</td><td>Less than or equal to</td></tr>
              <tr><td>&gt;=</td><td>Greater than or equal to</td></tr>
              <tr><td>==</td><td>equivalent to</td></tr>
              <tr><td>!=</td><td>not equivalent to</td></tr>
            </table>
          </div>


          <aside class='notes'>
          </aside>
        </section>

        <section>
          <h3>
            Selecting data
          </h3>
          <p>
            So, let's go ahead and subset our data into only those observations for March.
          </p>
          <div class='fragment'>
            <pre><code class='r'>tidy_cats[ tidy_cats$Month == 'Mar', ]
#           Name Month  dry  wet
#3        Millie   Mar 2000 3000
#6  Prof. Jiggly   Mar 4000 1500
#9       Pumpkin   Mar 3500 3000
#12      Pusheen   Mar 2500 2000
</code></pre>
          </div>

          <aside class='notes'>
          </aside>
        </section>

        <section>
          <h3>
            Selecting Data
          </h3>
          <p>
            What if we wanted the data for all months except March?
          </p>
          <div class='fragment'>
            <pre><code class='r'>tidy_cats[ tidy_cats$Month != 'Mar' , ]
#           Name Month  dry  wet
#1        Millie   Feb 3000 2000
#2        Millie   Jan 1000 4000
#4  Prof. Jiggly   Feb 4000 1000
#5  Prof. Jiggly   Jan 5000    0
#7       Pumpkin   Feb 5500 2500
#8       Pumpkin   Jan 4000 2000
#10      Pusheen   Feb 3000 3000
#11      Pusheen   Jan 2500 3000
</code></pre>
          </div>
          <aside class='notes'>
          </aside>
        </section>

        <section>
          <h3>
            Selecting Data
          </h3>
          <p>
            Now let's get the data for those cats that eat more than 2000 grams of wet food a month.
          </p>
          <div class='fragment'>
            <pre><code class='r'>tidy_cats[ tidy_cats$wet > 2000 , ]
#      Name Month  dry  wet
#2   Millie   Jan 1000 4000
#3   Millie   Mar 2000 3000
#7  Pumpkin   Feb 5500 2500
#9  Pumpkin   Mar 3500 3000
#10 Pusheen   Feb 3000 3000
#11 Pusheen   Jan 2500 3000
</code></pre>
          </div>
          <aside class='notes'>
          </aside>
        </section>

        <section>
          <h3>
            Selecting Data
          </h3>
          <p>
            What about the data for those cats that eat no more than 1000 grams of dry food a month.
          </p>
          <div class='fragment'>
            <pre><code class='r'>tidy_cats[ tidy_cats$dry &lt;= 1000 , ]
#      Name Month  dry  wet
#2   Millie   Jan 1000 4000
</code></pre>
          </div>
          <aside class='notes'>
          </aside>
        </section>


        <section>
          <h3>
            Selecting data: go forth and subset
          </h3>
          <p>
            There are a whole host of other methods for selecting data and I would encourage you to explore these options but those presented here should suffice for the beginner.
          </p>
          <p>
            An additional function that you might like to look into is:
          <pre><code class='r'>subset()</code></pre>
          </p>
        <aside class='notes'>
        </aside>
      </section>

        <section>
          <h3>
            Selecting data: dealing with text
          </h3>
          R handles character (or 'string') data in a similar way to vectors.
          However, there are some quirks and the <a href='https://cran.r-project.org/web/packages/stringr/vignettes/stringr.html'>stringr</a> package helps us to dealwith these quirks.

          <aside class='notes'>
          </aside>
        </section>

        <section>
          <h3>
            Selecting data: dealing with text
          </h3>
          <div style='font-size:90%'>
            <p>
              Here we will be dealing with a toy example using the names in out cat data but all examples can be extrapolatedto larger datasets.
            </p>
            <!--         <p> -->
            The most simple task to ask of a character vector is how many characters there are.
            This can be accomplished by using the <pre style='display:inline'><code style='display:inline' class='r'>nchar()</code></pre> function.
            <!--         </p> -->
            <pre><code class='r'>nchar(as.character(tidy_cats$Name[4]))
[1] 12</code></pre>
            But the <pre style='display:inline'><code style='display:inline' class='r'>str_length()</code></pre> function from the stringr package makes this easier:
            <pre><code class='r'>library(stringr)
str_length(tidy_cats$Name[4])
[1] 12</code></pre>
          </div>
          <aside class='notes'>
          </aside>
        </section>

        <section>
          <h3>
            Selecting Data: dealing with text
          </h3>
          <div style='font-size:90%'>
            <p>
              The stringr package also allows us to access the individual characters in a character vector.
            </p>
            <pre><code class='r'>str_sub(tidy_cats$Name[4])
#[1] "Prof. Jiggly"

str_sub(tidy_cats$Name[4],1,5)
#[1] "Prof."

str_sub(tidy_cats$Name[4],1,-3)
#[1] "Prof. Jigg"
</code></pre>
            <p>
              stringr also allows us to handle whitespace:
            </p>
            <pre><code class='r'>"   Professor Jiggly is loose in the cat room!  "
#[1] "   Professor Jiggly is loose in the cat room!  "

str_trim("   Professor Jiggly is loose in the cat room!  ", side = 'both')
#[1] "Professor Jiggly is loose in the cat room!"</code></pre>
            <p>
              This  function can come in very handy when standardising a data set.
            </p>
          </div>
        </section>

        <section>
          <h3>
            Selecting data: dealing with text
          </h3>
          Some stringr functions:
          <table>
            <thead>
              <tr>
                <th>
                  Function
                </th>
                <th>
                  Description
                </th>
              </tr>
            </thead>
            <tbody>
              <tr><td><pre><code class='r'>str_length()</code></pre></td><td>Gets number of characters in a string</td></tr>
              <tr><td><pre><code class='r'>str_sub()</code></pre></td><td>Allows access to individual characters</td></tr>
              <tr><td><pre><code class='r'>str_trim()</code></pre></td><td>Removes leading and trailing whitespace</td></tr>
              <tr><td><pre><code class='r'>str_subset()</code></pre></td><td>returns the elements of a character vector that match a regular expression</td></tr>
            </tbody>
          </table>

          <aside class='notes'>
          </aside>
        </section>

        <aside class='notes'>
        </aside>
      </section>





      <!--    NEW TOP LEVEL SLIDE      -->
      <section align='left'>
        <section>
          <h2 align='center'>
            Descriptives
          </h2>
        </section>

        <section>
          <h3>
            Descriptives
          </h3>
          <p>
            Descriptive statistics do what they say on the tin.
            They <span style='color:red'>describe</span> your data.
          </p>
          <p>
            These statistics include things such as the mean, median, mode, range, interquartile range, standard deviation and standard error.
          </p>
          <p>
            All of which are detailed in the <a href='https://github.com/vj-sol/R-for-Arts/raw/master/resources/Basic_stats.pdf'>Basic Statstics document</a> for this course
          </p>
        </section>

        <aside class='notes'>
        </aside>

        <section>
          <h3>
            Descriptives: Mean
          </h3>
          <p>
            Let's return to our cat data to calculate a mean.
          </p>
          <p>
            RQ: What is the mean amount of dry cat food eaten across all cats and all months?
          </p>
          <pre><code class='r'>mean(tidy_cats$dry)
#[1] 3333.333</code></pre>
          <aside class='notes'>
          </aside>
        </section>

        <section>
          <h3>
            Descriptives: Median
          </h3>
          <p>
            RQ: What is the median amount of dry cat food eaten across all cats and all months?
          </p>
          <pre><code class='r'>median(tidy_cats$dry)
#[1] 3250</code></pre>
          <aside class='notes'>
          </aside>
        </section>

        <section id='mode'>
          <h3>
            Descriptives: Mode
          </h3>
          <p>
            RQ: What is the mode amount of dry cat food eaten across all cats and all months?
          </p>
          <pre><code class='r'>cats_dry_table <- table(tidy_cats$dry)
cats_dry_table
#1000 2000 2500 3000 3500 4000 5000 5500
#   1    1    2    2    1    3    1    1
cats_dry_mode <- cats_dry_table[ cats_dry_table == max( cats_dry_table ) ]
as.integer( names( cats_dry_mode ) )
#4000
</code></pre>
          <aside class='notes'>
          </aside>
        </section>

        <section>
          <h3>
            Descriptives: Range
          </h3>
          <p>
            RQ: What is the range in the amount of dry cat food eaten across all cats and all months?
          </p>
          <pre><code class='r'>max(tidy_cats$dry) - min(tidy_cats$dry)
#[1] 4500</code></pre>
          <aside class='notes'>
          </aside>
        </section>

        <section>
          <h3>
            Descriptives: Interquartile Range
          </h3>
          <p>
            RQ: What is the interquartile range for the amount of dry cat food eaten across all cats and all months?
          </p>
          <pre><code class='r'>IQR(tidy_cats$dry)
#[1] 1500</code></pre>
          <aside class='notes'>
          </aside>
        </section>

        <section>
          <h3>
            Descriptives: Standard Deviation
          </h3>
          <p>
            RQ: What is the standard deviation for the amount of dry cat food eaten across all cats and all months?
          </p>
          <pre><code class='r'>sd( tidy_cats$dry )
#[1] 1267.304</code></pre>
          <aside class='notes'>
          </aside>
        </section>

        <section>
          <h3>
            Descriptives: Do it in a oner
          </h3>
          <p>
            RQ: What are the descriptives for the tidy_cats dataset?
          </p>
          <pre><code class='r'>summary(tidy_cats)

#          Name      Month                dry            wet
#Millie      :3   Length:12          Min.   :1000   Min.   :   0
#Prof. Jiggly:3   Class :character   1st Qu.:2500   1st Qu.:1875
#Pumpkin     :3   Mode  :character   Median :3250   Median :2250
#Pusheen     :3                      Mean   :3333   Mean   :2250
#                                    3rd Qu.:4000   3rd Qu.:3000
#                                    Max.   :5500   Max.   :4000

library(psych)
describe(tidy_cats)

#       vars  n    mean      sd median trimmed     mad  min  max range  skew
#Name*     1 12    2.50    1.17    2.5     2.5    1.48    1    4     3  0.00
#Month*    2 12     NaN      NA     NA     NaN      NA  Inf -Inf  -Inf    NA
#dry       3 12 3333.33 1267.30 3250.0  3350.0 1111.95 1000 5500  4500 -0.03
#wet       4 12 2250.00 1076.61 2250.0  2300.0 1111.95    0 4000  4000 -0.45
#       kurtosis     se
#Name*     -1.62   0.34
#Month*       NA     NA
#dry       -0.93 365.84
#wet       -0.58 310.79
#Warning messages:
#1: NAs introduced by coercion
#2: In FUN(newX[, i], ...) : no non-missing arguments to min; returning Inf
#3: In FUN(newX[, i], ...) :
#  no non-missing arguments to max; returning -Inf
</code></pre>
          <aside class='notes'>
          </aside>
        </section>

        <section>
          <h3>
            Descriptives: but I want a graph!
          </h3>
          <p>
            By this point I would be crying out for a visual representation of the data.
          </p>
          <p class='fragment' data-fragment-index='1'>
            I apologise but that is the topic of next week's session.
          </p>
          <p class='fragment' data-fragment-index='1'>
            However, I feel your pain!
          </p>
        </section>

      </section>



      <!--    NEW TOP LEVEL SLIDE      -->
      <section align='left'>

        <section>
          <h2 align='center'>
            Exercises
          </h2>
          <aside class='notes'>

          </aside>
        </section>

        <section>
          <h3>
            Packages
          </h3>
          <p>
            Vist <a href='https://cran.r-project.org/web/packages/available_packages_by_date.html'>https://cran.r-project.org/web/packages/available_packages_by_date.html</a> and search for a package that you might find useful.
            Once you have found a package, do the following:
          </p>
          <ol>
            <li>Install it</li>
            <li>Load it into your R workspace</li>
            <li>Use the help function to learn more about the package</li>
            <li>Try using one of the package's functions (if you need a test dataset, R has some built in. Use <pre style='display:inline'><code style='display:inline' class='r'>data()</code></pre> to see what is available.)</li>
          </ol>
          <aside class='notes'>

          </aside>
        </section>

        <section>
          <h3>
            Packages
          </h3>
          <ol start='5'>
            <li>How would you specify that you wanted to specifically use the <pre style='display:inline'><code style='display:inline' class='r'>alpha()</code></pre> function from the psych package?</li>
            <li>Do you need to install a package each time you want to use it?</li>
            <li>Would it be important to include an <pre style='display:inline'><code style='display:inline' class='r'>install.packages()</code></pre> command in a script that you were sharing? Why?</li>
          </ol>
        </section>

        <section>
          <h3>
            Importing data
          </h3>
          <ol>
            <li>What types of data can R handle?</li>
            <li>What is the preferred data format and what is its structure?</li>
            <li>When importing data, what is meant by the term 'separator'?</li>
            <li>Investigate the <pre style='display:inline'><code style='display:inline' class='r'>read.table()</code></pre> command. What additional functionality does it have?</li>
          </ol>
        </section>
        <section>
          <h3>
            Importing data
          </h3>
          <ol start='5'>
            <li>Using the <pre style='display:inline'><code style='display:inline' class='r'>read.table()</code></pre></li> function, read in the dataset at the following location <a href='http://raw.githubusercontent.com/vj-sol/R-for-Arts-2/master/resources/cats.csv'>http://raw.githubusercontent.com/vj-sol/R-for-Arts-2/master/resources/cats.csv</a> and assign it to an object.
            <li>Using the <pre style='display:inline'><code style='display:inline' class='r'>read.csv()</code></pre></li> function, read in the dataset at the following location <a href='http://raw.githubusercontent.com/vj-sol/R-for-Arts-2/master/resources/cat-food.csv'>http://raw.githubusercontent.com/vj-sol/R-for-Arts-2/master/resources/cat-food.csv</a> and assign it to another object.
          </ol>
          <aside class='notes'>

          </aside>
        </section>

        <section>
          <h3>
            Navigating data
          </h3>
          <ol>
            <li>What type of brackets are used to extract data from a 1 dimensional object in R?</li>
            <li>What type of brackets are used to extract data from a 2 dimensional object in R?</li>
            <li>What is the difference between the code for extracting data from a 1 dimensional dataset and a 2 dimensional data set?</li>
            <li>What type of operator can be used to extract columns from a <pre style='display:inline'><code style='display:inline' class='r'>data.frame</code></pre>?</li>
          </ol>
        </section>

        <section>
          <h3>
            Navigating data
          </h3>
          <ol start='5'>
            <li>For the vector <pre style='display:inline'><code style='display:inline' class='r'>my_vect <- c(23 , 49 , 567 , 32 , 90)</code></pre> predict what the result of the following code will be without running it:
            <ol>
            <li type='a'><pre style='display:inline'><code style='display:inline' class='r'>my_vect[4]</code></pre></li>
            <li type='a'><pre style='display:inline'><code style='display:inline' class='r'>my_vect[-2]</code></pre></li>
            <li type='a'><pre style='display:inline'><code style='display:inline' class='r'>my_vect[6]</code></pre></li>
            <li type='a'><pre style='display:inline'><code style='display:inline' class='r'>my_Vect[2]</code></pre></li>
            <li type='a'><pre style='display:inline'><code style='display:inline' class='r'>my_vect[4,]</code></pre></li>
            </ol>
          </li>
          </ol>
          <aside class='notes'>

          </aside>
        </section>

        <section>
          <h3>
            Navigating data
          </h3>
          <ol start='6'>
            <li>For the cats data that you imported using <pre style='display:inline'><code style='display:inline' class='r'>read.table()</code></pre>, do the following:
              <ol>
                <li type='a'>Extract the weight column and assign it to an object.</li>
                <li type='a'>Extract the data value 'grey' and assign it to an object.</li>
                <li type='a'>Extract all information about Millie the cat and assign it to an object.</li>
                <li type='a'>Extract Millie's age from the newly created object.</li>
              </ol>
            </li>
          </ol>
          <aside class='notes'>

          </aside>
        </section>

        <section>
          <h3>
            Tidying data
          </h3>
          <ol>
            <li>Summarise what the structure of tidy data looks like</li>
            <li>Should all data be stored in the tidy format?</li>
            <li>Find the two functions from the tidyr package that were used in this session and use the help function to find out more about them.
              What inputs do they take and do they have additional functionality?</li>
          </ol>
          <aside class='notes'>

          </aside>
        </section>

        <section>
          <h3>
            Tidying data
          </h3>
          <ol start='4'>
            <li>Given the following dataset (found <a href='https://raw.githubusercontent.com/vj-sol/R-for-Arts-2/master/resources/td-cats.csv'>here</a>), perform the following actions:
              <pre><code class='r'>#   whiskers   tail.length   cat1   cat2   cat3
#   5          12            Toby   NA     NA
#   9          15            NA     Cleo   NA
#   7          10            NA     NA     Sir Snuffles</code></pre>

              <ol>
                <li type='a'>Collect the cat names into one column</li>
                <li type='a'>Move the newly created name column to the left most data column (do not overwrite any data!)</li>
                <li type='a'> Make sure that the column names match up correctly (you may need to investigate the <pre style='display:inline'><code style='display:inline' class='r'>colnames()</code></pre> function).</li>
              </ol>
            </li>
          </ol>
          <aside class='notes'>
            # Hint: What does the help for the gather() function say about NAs?
          </aside>
        </section>

        <section>
          <h3>
            Tidying data
          </h3>
          <ol start='5'>
            <li>Given the following dataset (found <a href='https://raw.githubusercontent.com/vj-sol/R-for-Arts-2/master/resources/td-cats-2.csv'>here</a>), perform the following actions:
              <pre><code class='r'># name         feature         length
#         Toby    whiskers      5
#         Toby tail.length     12
#         Cleo    whiskers      9
#         Cleo tail.length     15
# Sir Snuffles    whiskers      7
# Sir Snuffles tail.length     10
</code></pre>

              <ol>
                <li type='a'>Arrange the data such that whiskers and tail.length are variables with length as a value.</li>
                <li type='a'>What class is the name column?</li>
                <li type='a'>Find a function that shows you the structure of your new <pre style='display:inline'><code style='display:inline' class='r'>data.frame</code></pre></li>
              </ol>
            </li>
          </ol>
          <aside class='notes'>
            # Hint: What does the help for the gather() function say about NAs?
          </aside>
        </section>

        <section>
          <h3>
            Checking and selecting data
          </h3>
          For this series of exercises, we'll be using some real data.
          <p>
            This data (found <a href='https://raw.githubusercontent.com/BuzzFeedNews/nics-firearm-background-checks/master/data/nics-firearm-background-checks.csv'>here</a>) is taken from the  FBI's National Instant Criminal Background Check System and concerns firearm background check data from Nov. 1998 - Feb. 2017.
          </p>
          <p>
            The data was collated and put into a database form by BuzzFeed News.
          </p>
        </section>

        <section>
          <h3>
            Checking and selecting data
          </h3>
          For the data provided, perform the following actions:
          <ol>
            <li>Check to see if there are any missing cases in the data. Explain your findings.</li>
            <li>Get all data pertaining to the state of Texas and assign it to an object.</li>
            <li>Using your new object, find out how many hand guns were sold in January 2004</li>
            <li>Using your new object, how many <pre style='display:inline'><code style='display:inline' class='r'>permit_recheck</code></pre>s were performed in Texas across the whole period of this dataset?</li>
            <li>Perform steps 2, 3 and 4 for the state of California</li>
          </ol>
        </section>

          <section>
            <h3>
              Descriptives
            </h3>
            <p>
              Here we will continue using the FBI data regarding firearm background checks.
            </p>
            Using that data, find out the following information:
            <ol>
              <li>The mean number of <pre style='display:inline'><code style='display:inline' class='r'>private_sale_long_gun</code></pre>s</li>
              <li>The median number of <pre style='display:inline'><code style='display:inline' class='r'>private_sale_long_gun</code></pre>s in the state of Wyoming</li>
              <li>The number of <pre style='display:inline'><code style='display:inline' class='r'>private_sale_long_gun</code></pre>s in the state of Wyoming in March 2016</li>
            </ol>
        </section>

        <section>
          <h3>
              Descriptives
            </h3>
          <div style='font-size:90%'>
          <ol start='4'>
              <li>Use a single function to produce descriptives for <pre style='display:inline'><code style='display:inline' class='r'>private_sale_handgun</code></pre>s in the state of Alabama
              <ol>
                <li type='a'>What is the max value?</li>
                <li type='a'>What is the min value?</li>
                <li type='a'>What is the mean value?</li>
                <li type='a'>What is the median value?</li>
                <li type='a'>Work out the interquartile range without calling the <pre style='display:inline'><code class='r' style='display:inline'>IQR()</code></pre> function.</li>
                <li type='a'>What is the standard deviation of the data? If you can't tell from your descriptives, might there be another function that could help?</li>
                <li type='a'>On <a href='#/mode'>this</a> slide, I offered a way to calculate the mode. Can you think of another way to do this? Apply your method to your current dataset to find the mode.</li>
                </ol></li>
            </ol>
          </div>
          </section>

          <section>
            <h3>
              Project 1: Prep that data!
            </h3>
            <p>
              This project is designed to mimic the process of wrangling with your own data.
              It uses actual data from the European Union Open Data Portal and concerns the numbers of accidents at work across the EU.
            </p>
            <p>
              Naturally, the first step is to acquire the data, it can be found <a href='http://ec.europa.eu/eurostat/estat-navtree-portlet-prod/BulkDownloadListing?file=data/hsw_ph3_07.tsv.gz&unzip=true'>here</a>, save it as a .csv file in a sensible directory.
            </p>
            <p>
              See the next slide for further details...
            </p>

            <aside class='notes'>

            </aside>
          </section>

          <section>
            <h3>
              Project 1: Prep that data!
            </h3>
            <ol>
              <li>Import the data into R</li>
              <li>Reshape the data into a wide data format</li>
              <li>What was the number of accidents in the UK?</li>
            </ol>

            <aside class='notes'>

            </aside>
          </section>

          <aside class='notes'>
            <pre><code class='r'>library(reshape2,tidyr)
eu_data_comma <- read.table('http://ec.europa.eu/eurostat/estat-navtree-portlet-prod/BulkDownloadListing?file=data/hsw_ph3_07.tsv.gz&unzip=true',sep=',',T)
eu_data_tab <- read.table('http://ec.europa.eu/eurostat/estat-navtree-portlet-prod/BulkDownloadListing?file=data/hsw_ph3_07.tsv.gz&unzip=true',sep='\t',T)
eu_data <- cbind(eu_data_comma[1:6],eu_data_tab[2:length(eu_data_tab)])
rm('eu_data_comma','eu_data_tab')
eu_country <- melt(eu_data,id=c('matagent','severity','nace_r2','sex','age','unit','EU28','EU27'))
colnames(eu_country)[9] <- 'country'
#eu_age <- spread(eu_country, key = age, value = value)
eu_unit <- spread(eu_country, key = unit, value = value)

        </code></pre>

      </aside>

            <section>
              <h3>
                Project 2: Leeds Car accidents 2015
              </h3>
              <p>
                The data for this project were published by Leeds City Council and can be found <a href='https://aql.datapress.com/leeds/dataset/road-traffic-accidents/2016-05-19T15:30:50/2015.csv'>here</a>
              </p>
            </section>

            <section>
            </section
            </section>



              <!--    NEW TOP LEVEL SLIDE      -->
              <section align='left'>

                <section>
                  <h2 align='center'>
                    Next Week
                  </h2>
                  <aside class='notes'>

                  </aside>
                </section>

                <section>
                  <aside class='notes'>

                  </aside>
                </section>

                <section>
                  <aside class='notes'>

                  </aside>
                </section>

                <section>

                  <aside class='notes'>

                  </aside>
                </section>

              </section>

              </div>
            </div>

          <script src="lib/js/head.min.js"></script>
          <script src="js/reveal.js"></script>

          <script>
            // More info https://github.com/hakimel/reveal.js#configuration
            Reveal.initialize({
              height:800,
              width:960,
              margin: 0.1,
              minScale: 0.2,
              maxScale:1.5,
              // Display controls in the bottom right corner
              controls: true,

              // Display a presentation progress bar
              progress: true,

              // Display the page number of the current slide
              slideNumber: false,

              // Push each slide change to the browser history
              history: true,

              // Enable keyboard shortcuts for navigation
              keyboard: true,

              // Enable the slide overview mode
              overview: true,

              // Vertical centering of slides
              center: true,

              // Enables touch navigation on devices with touch input
              touch: true,

              // Loop the presentation
              loop: false,

              // Change the presentation direction to be RTL
              rtl: false,

              // Randomizes the order of slides each time the presentation loads
              shuffle: false,

              // Turns fragments on and off globally
              fragments: true,

              // Flags if the presentation is running in an embedded mode,
              // i.e. contained within a limited portion of the screen
              embedded: false,

              // Flags if we should show a help overlay when the questionmark
              // key is pressed
              help: true,

              // Flags if speaker notes should be visible to all viewers
              showNotes: false,

              // Number of milliseconds between automatically proceeding to the
              // next slide, disabled when set to 0, this value can be overwritten
              // by using a data-autoslide attribute on your slides
              autoSlide: 0,

              // Stop auto-sliding after user input
              autoSlideStoppable: true,

              // Use this method for navigation when auto-sliding
              autoSlideMethod: Reveal.navigateNext,

              // Enable slide navigation via mouse wheel
              mouseWheel: false,

              // Hides the address bar on mobile devices
              hideAddressBar: true,

              // Opens links in an iframe preview overlay
              previewLinks: false,

              // Transition style
              transition: 'concave', // none/fade/slide/convex/concave/zoom

              // Transition speed
              transitionSpeed: 'default', // default/fast/slow

              // Transition style for full page slide backgrounds
              backgroundTransition: 'concave', // none/fade/slide/convex/concave/zoom

              // Number of slides away from the current that are visible
              viewDistance: 3,

              // Parallax background image
              parallaxBackgroundImage: '', // e.g. "'https://s3.amazonaws.com/hakim-static/reveal-js/reveal-parallax-1.jpg'"

              // Parallax background size
              parallaxBackgroundSize: '', // CSS syntax, e.g. "2100px 900px"

              // Number of pixels to move the parallax background per slide
              // - Calculated automatically unless specified
              // - Set to 0 to disable movement along an axis
              parallaxBackgroundHorizontal: null,
              parallaxBackgroundVertical: null,

              // More info https://github.com/hakimel/reveal.js#dependencies
              dependencies: [
                { src: 'lib/js/classList.js', condition: function ()
                 { return !document.body.classList;}},
                { src: 'plugin/markdown/marked.js' },
                { src: 'plugin/markdown/markdown.js' },
                { src: 'plugin/notes/notes.js', async: true },
                { src: 'plugin/zoom-js/zoom.js', async: true, condition: function () { return !!document.body.classList; } },
                { src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } }
              ]
            });
            Reveal.configure({ pdfMaxPagesPerSlide: 1 });
          </script>
          </body>
        </html>
